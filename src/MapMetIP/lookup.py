LOOKUP_TABLE_BM  = {
    "Myelope_276((3722))Y89": "MPO_Y89",
    "CD44_69((3727))In115": "CD44_In115",
    "131Xe": "crtl1_Xe131",
    "134Xe": "crtl2_Xe134",
    "136Ba": "crtl3_Ba136",
    "Fibrone_328((3730))La139": "Fibronectin_La139",
    "CD11b_2279((3733))Nd142": "CD11b_Nd142",
    "HLA-DR_1849((3622))Nd143": "HLA-DR_Nd143",
    "PRPH_3070((3723))Nd144": "PRPH_Nd144",
    "CXCR2,I_3112((3731))Nd145": "CXCR2_Nd145",
    "Histone_1978((3831))Nd146": "H3K9Ac_Nd146",
    "HLA-ABC_127((3623))Sm147": "HLA-ABC_Sm147",
    "CD20_2963((3679))Nd148": "CD20_Nd148",
    "LUM_3061((3719))Sm149": "LUM_Sm149",
    "CD11c_719((3717))Nd150": "CD11c_Nd150",
    "CD24_49((3625))Eu151": "CD24_Eu151",
    "CD3_60((3726))Sm152": "CD3_Sm152",
    "CD45_70((3627))Eu153": "CD45_Eu153",
    "CD8a_706((3628))Sm154": "CD8a_Sm154",
    "GD2_2892((3692))Gd155": "GD2_Gd155",
    "CD34_387((3716))Gd156": "CD34_Gd156",
    "CD10_377((3720))Gd158": "CD10_Gd158",
    "CXCR4_2870((3688))Tb159": "CXCR4_Tb159",
    "CD274(B_2298((3631))Gd160": "CD274_Gd160",
    "S100B_1940((3632))Dy161": "S100B_Dy161",
    "SOX10_1847((3734))Dy162": "SOX10_Dy162",
    "FOXP3_115((3633))Dy163": "FOXP3_Dy163",
    "Chromog_3144((3677))Dy164": "CHGA_Dy164",
    "CD279(P_1742((3634))Ho165": "CD279_Ho165",
    "PNMT_3066((3732))Er166": "PNMT_Er166",
    "H4K12Ac_2023((3829))Er167": "H4K12Ac_Er167",
    "GATA3_117((3636))Er168": "GATA3_Er168",
    "Ki-67_142((3680))Tm169": "Ki-67_Tm169",
    "CD56_2966((3629))Er170": "CD56_Er170",
    "CD4_2331((3718))Yb171": "CD4_Yb171",
    "Indolea_2281((3681))Yb172": "IDO_Yb172",
    "Granzym_2397((3682))Yb173": "GZMB_Yb173",
    "ELAVL4_3063((3637))Yb174": "ELAVL4_Yb174",
    "CD14_2962((3685))Lu175": "CD14_Lu175",
    "cleaved_198((3674))Yb176": "clPARP_Yb176",
    "Iridium_1033((1253))Ir191": "DNA1_Ir191",
    "Iridium_1033((1254))Ir193": "DNA1_Ir193",
    "Vimenti_655((3728))Pt196": "Vimentin_Pt196",
    "CD15_627((3644))Bi209": "CD15_Bi209",
    "B": "IF1_DAPI",
    "G": "IF2_GD2",
    "R": "IF3_CD45_CD56",
    }

LOOKUP_TABLE_TU  = {
    "Myelope_276((3722))Y89": "MPO_Y89",
    "CD44_69((3727))In115": "CD44_In115",
    "131Xe": "crtl1_Xe131",
    "134Xe": "crtl2_Xe134",
    "136Ba": "crtl3_Ba136",
    "Fibrone_328((3730))La139": "Fibronectin_La139",
    "CD11b_2279((3733))Nd142": "CD11b_Nd142",
    "HLA-DR_1849((3622))Nd143": "HLA-DR_Nd143",
    "PRPH_3070((3723))Nd144": "PRPH_Nd144",
    "CXCR2,I_3112((3731))Nd145": "CXCR2_Nd145",
    "Histone_1978((3831))Nd146": "H3K9Ac_Nd146",
    "HLA-ABC_127((3623))Sm147": "HLA-ABC_Sm147",
    "CD20_2963((3679))Nd148": "CD20_Nd148",
    "LUM_3061((3719))Sm149": "LUM_Sm149",
    "CD11c_719((3717))Nd150": "CD11c_Nd150",
    "CD24_49((3625))Eu151": "CD24_Eu151",
    "CD3_60((3726))Sm152": "CD3_Sm152",
    "CD45_70((3627))Eu153": "CD45_Eu153",
    "CD8a_706((3628))Sm154": "CD8a_Sm154",
    "GD2_2892((3692))Gd155": "GD2_Gd155",
    "CD34_387((3716))Gd156": "CD34_Gd156",
    "CD10_377((3720))Gd158": "CD10_Gd158",
    "CXCR4_2870((3688))Tb159": "CXCR4_Tb159",
    "CD274(B_2298((3631))Gd160": "CD274_Gd160",
    "S100B_1940((3632))Dy161": "S100B_Dy161",
    "SOX10_1847((3734))Dy162": "SOX10_Dy162",
    "FOXP3_115((3633))Dy163": "FOXP3_Dy163",
    "Chromog_3144((3677))Dy164": "CHGA_Dy164",
    "CD279(P_1742((3634))Ho165": "CD279_Ho165",
    "PNMT_3066((3732))Er166": "PNMT_Er166",
    "H4K12Ac_2023((3829))Er167": "H4K12Ac_Er167",
    "GATA3_117((3636))Er168": "GATA3_Er168",
    "Ki-67_142((3680))Tm169": "Ki-67_Tm169",
    "CD56_2966((3629))Er170": "CD56_Er170",
    "CD4_2331((3718))Yb171": "CD4_Yb171",
    "Indolea_2281((3681))Yb172": "IDO_Yb172",
    "Granzym_2397((3682))Yb173": "GZMB_Yb173",
    "ELAVL4_3063((3637))Yb174": "ELAVL4_Yb174",
    "CD14_2962((3685))Lu175": "CD14_Lu175",
    "cleaved_198((3674))Yb176": "clPARP_Yb176",
    "Iridium_1033((1253))Ir191": "DNA1_Ir191",
    "Iridium_1033((1254))Ir193": "DNA1_Ir193",
    "Vimenti_655((3728))Pt196": "Vimentin_Pt196",
    "CD15_627((3644))Bi209": "CD15_Bi209",
    "B": "IF1_DAPI",
    "G": "IF2_GD2",
    "R": "IF3_CD45_CD56",
    }

NUCLEAR_MARKER_TU = ["DNA1_Ir191", "DNA1_Ir193", "H4K12Ac_Er167", "H3K9Ac_Nd146"]
NUCLEAR_MARKER_BM = ["DNA1_Ir191", "DNA1_Ir193", "H4K12Ac_Er167", "H3K9Ac_Nd146"]

KEEP_CHANNELS_BM = ["IF1_DAPI", "IF2_GD2", "IF3_CD45_CD56"]
KEEP_CHANNELS_TU = ["IF1_DAPI", "IF2_GD2", "IF3_CD45_CD56"]

PERCENTILE_LOOKUP_TU = {
    "MPO_Y89": 99.5,
    "CD44_In115": 99.5,
    "crtl1_Xe131": 99.5,
    "crtl2_Xe134": 99.5,
    "crtl3_Ba136": 99.5,
    "Fibronectin_La139": 99.5,
    "CD11b_Nd142": 99.5,
    "HLA-DR_Nd143": 99.5,
    "PRPH_Nd144": 99.5,
    "CXCR2_Nd145": 99.5,
    "H3K9Ac_Nd146": 99.5,
    "HLA-ABC_Sm147": 99.5,
    "CD20_Nd148": 99.5,
    "LUM_Sm149": 99.5,
    "CD11c_Nd150": 99.5,
    "CD24_Eu151": 99.5,
    "CD3_Sm152": 99.5,
    "CD45_Eu153": 99.5,
    "CD8a_Sm154": 99.5,
    "GD2_Gd155": 99.5,
    "CD34_Gd156": 99.5,
    "CD10_Gd158": 99.5,
    "CXCR4_Tb159": 99.5,
    "CD274_Gd160": 99.5,
    "S100B_Dy161": 99.5,
    "SOX10_Dy162": 99.5,
    "FOXP3_Dy163": 99.5,
    "CHGA_Dy164": 99.5,
    "CD279_Ho165": 99.5,
    "PNMT_Er166": 99.5,
    "H4K12Ac_Er167": 99.5,
    "GATA3_Er168": 99.5,
    "Ki-67_Tm169": 99.5,
    "CD56_Er170": 99.5,
    "CD4_Yb171": 99.5,
    "IDO_Yb172": 99.5,
    "GZMB_Yb173": 99.5,
    "ELAVL4_Yb174": 99.5,
    "CD14_Lu175": 99.5,
    "clPARP_Yb176": 99.5,
    "DNA1_Ir191": 99.5,
    "DNA1_Ir193": 99.5,
    "Vimentin_Pt196": 99.5,
    "CD15_Bi209": 99.5,
    "IF1_DAPI": 99.5,
    "IF2_GD2": 99.5,
    "IF3_CD45_CD56": 99.5,
}

PERCENTILE_LOOKUP_BM = {
    "MPO_Y89": 99.5,
    "CD44_In115": 99.5,
    "crtl1_Xe131": 99.5,
    "crtl2_Xe134": 99.5,
    "crtl3_Ba136": 99.5,
    "Fibronectin_La139": 99.5,
    "CD11b_Nd142": 99.5,
    "HLA-DR_Nd143": 99.5,
    "PRPH_Nd144": 99.5,
    "CXCR2_Nd145": 99.5,
    "H3K9Ac_Nd146": 99.5,
    "HLA-ABC_Sm147": 99,
    "CD20_Nd148": 99.5,
    "LUM_Sm149": 99.5,
    "CD11c_Nd150": 99.5,
    "CD24_Eu151": 99.5,
    "CD3_Sm152": 99.5,
    "CD45_Eu153": 99.5,
    "CD8a_Sm154": 99.5,
    "GD2_Gd155": 99.5,
    "CD34_Gd156": 99.5,
    "CD10_Gd158": 99.5,
    "CXCR4_Tb159": 99.5,
    "CD274_Gd160": 99.5,
    "S100B_Dy161": 99.5,
    "SOX10_Dy162": 99.5,
    "FOXP3_Dy163": 99.5,
    "CHGA_Dy164": 99.5,
    "CD279_Ho165": 99.5,
    "PNMT_Er166": 99.5,
    "H4K12Ac_Er167": 99.5,
    "GATA3_Er168": 99.5,
    "Ki-67_Tm169": 99.5,
    "CD56_Er170": 99.5,
    "CD4_Yb171": 99.5,
    "IDO_Yb172": 99.5,
    "GZMB_Yb173": 99.5,
    "ELAVL4_Yb174": 99.5,
    "CD14_Lu175": 99.5,
    "clPARP_Yb176": 99.5,
    "DNA1_Ir191": 99.5,
    "DNA1_Ir193": 99.5,
    "Vimentin_Pt196": 99.5,
    "CD15_Bi209": 99.5,
    "IF1_DAPI": 99.5,
    "IF2_GD2": 99.5,
    "IF3_CD45_CD56": 99.5,
}

import logging

LOG_PATH ="/data_isilon_main/isilon_images/10_MetaSystems/MetaSystemsData/Multimodal_Imaging_Daria/MapMetIP/logs"

def setup_logger(sample_name):
    
    logging.root.handlers = []
    FORMATTER = logging.Formatter('%(asctime)s - %(name)s - %(levelname)s - %(message)s')    
    fh = logging.FileHandler(f'{LOG_PATH}/{sample_name}.log')
    fh.setLevel(logging.DEBUG)
    fh.setFormatter(FORMATTER)
    logging.root.addHandler(fh)